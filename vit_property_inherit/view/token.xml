<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		<record id="view_token_form_inherit" model="ir.ui.view">
			<field name="name">token_form</field>
			<field name="model">product.product</field>
			<field name="type">form</field>
			<field name="inherit_id" ref="product.product_normal_form_view"/>
			<field name="arch" type="xml">
				<notebook position="inside">
					<page id="token" string="Token" modifiers="{'invisible': [('is_investment_token', '=', False)]}">
						<group>
							<group>
								<field name="is_investment_token" />
								<field name="token_code" />
								<field name="token_state" />
								<field name="token_type" />
							</group>
							<group>
								<field name="property_unit_id" />
								<field name="token_owner_id" />
							</group>
						</group>
					</page>
				</notebook>
			</field>
		</record>

		<record id="view_token_tree_inherit" model="ir.ui.view">
			<field name="name">product.product.inherit</field>
			<field name="model">product.product</field>
			<field name="type">list</field>
			<field name="inherit_id" ref="product.product_product_tree_view"/>
			<field name="arch" type="xml">
				<xpath expr="//field[@name='token_code']" position="after">
                    <field name="token_type"/>
                    <field name="token_owner_id"/>
                </xpath>
			</field>
		</record>

		<record id="view_product_product_search_inherit" model="ir.ui.view">
			<field name="name">product_product</field>
			<field name="model">product.product</field>
			<field name="inherit_id" ref="product.product_search_form_view"/>
			<field name="arch" type="xml">
				<xpath expr="//filter[@name='categ_id']" position="after">
					<filter string="Property Unit" name="group_by_property_unit_id" context="{'group_by':'property_unit_id'}"/>
					<field name="property_unit_id"/>
				</xpath>
				<xpath expr="//filter[@name='group_by_property_unit_id']" position="after">
					<filter string="Token Type" name="group_by_token_type" context="{'group_by':'token_type'}"/>
					<field name="token_type"/>
				</xpath>
				<xpath expr="//filter[@name='group_by_token_type']" position="after">
					<filter string="Token Owner" name="group_by_token_owner_id" context="{'group_by':'token_owner_id'}"/>
					<field name="token_owner_id"/>
				</xpath>
			</field>
		</record>
	</data>
</odoo>